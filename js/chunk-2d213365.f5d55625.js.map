{"version":3,"sources":["webpack:///./src/views/front/Login.vue","webpack:///./src/views/front/Login.vue?8818"],"names":["class","for","type","goTopAdmin","errors","id","name","placeholder","rules","user","username","password","data","methods","api","this","$http","post","then","res","success","token","expired","document","cookie","Date","alert","$router","push","catch","err","console","log","render"],"mappings":"0IACSA,MAAM,gC,GACFA,MAAM,a,GACFA,MAAM,oD,EACP,eAAuC,MAAnCA,MAAM,eAAc,cAAU,G,GAE7BA,MAAM,Q,EACP,eAAgD,SAAzCC,IAAI,QAAQD,MAAM,cAAa,MAAE,G,GAMvCA,MAAM,Q,EACP,eAAmD,SAA5CC,IAAI,WAAWD,MAAM,cAAa,MAAE,G,EAM/C,eAEM,OAFDA,MAAM,8BAA4B,CACnC,eAA2D,UAAnDE,KAAK,SAASF,MAAM,qBAAoB,Q,4IApBhE,eAyBM,MAzBN,EAyBM,CAxBF,eAuBM,MAvBN,EAuBM,CAtBF,eAqBM,MArBN,EAqBM,CApBF,EACA,eAkBG,GAlBwB,SAAQ,EAAAG,YAAU,C,wBAC7C,gBADgBC,EAChB,EADgBA,OAChB,MADsB,CACtB,eAMM,MANN,EAMM,CALF,EACA,eAE+E,GAFxEC,GAAG,QAAQC,KAAK,QAAQJ,KAAK,QACpCF,MAAK,CAAC,eAAc,cAAyBI,EAAO,WACpDG,YAAY,YAAYC,MAAM,iB,WAA0B,EAAAC,KAAKC,S,qDAAL,EAAAD,KAAKC,SAAQ,K,+BACrE,eAAqE,GAAtDJ,KAAK,QAAQN,MAAM,uBAEtC,eAMM,MANN,EAMM,CALF,EACA,eAEqE,GAF9DK,GAAG,WAAWC,KAAK,WAAWJ,KAAK,WAC1CF,MAAK,CAAC,eAAc,cAAyBI,EAAO,cACpDG,YAAY,QAAQC,MAAM,W,WAAoB,EAAAC,KAAKE,S,qDAAL,EAAAF,KAAKE,SAAQ,K,+BAC3D,eAAwE,GAAzDL,KAAK,WAAWN,MAAM,uBAEzC,M,yCAUD,GACXY,KADW,WAEP,MAAO,CACHH,KAAM,CACFC,SAAU,GACVC,SAAU,MAKtBE,QAAS,CACLV,WADK,WACQ,WAEHW,EAAE,UAAO,uCAAP,iBACRC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKN,MACzBS,MAAK,SAACC,GACH,GAAIA,EAAIP,KAAKQ,QAAS,CAClB,IAAQC,EAAUF,EAAIP,KAAdS,MACAC,EAAYH,EAAIP,KAAhBU,QACRC,SAASC,OAAT,kBAA6BH,EAA7B,qBAA+C,IAAII,KAAKH,IACxDI,MAAM,cAEN,EAAKC,QAAQC,KAAK,wBAElBF,MAAM,gBACN,EAAKjB,KAAKC,SAAW,GACrB,EAAKD,KAAKE,SAAW,MAG5BkB,OAAM,SAACC,GACJC,QAAQC,IAAIF,SCzD5B,EAAOG,OAASA,EAED","file":"js/chunk-2d213365.f5d55625.js","sourcesContent":["<template>\n    <div class=\"container-fluid login vh-100\">\n        <div class=\"container\">\n            <div class=\"col-8 col-lg-5 mx-auto login-form text-light p-4\">\n                <h2 class=\"text-center\">後台登入 Login</h2>\n                <Form v-slot=\"{ errors }\" @submit=\"goTopAdmin\">\n                <div class=\"mb-3\">\n                    <label for=\"email\" class=\"form-label\">帳號</label>\n                    <Field id=\"email\" name=\"email\" type=\"email\"\n                    class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\"\n                    placeholder=\"請輸入 Email\" rules=\"email|required\" v-model=\"user.username\"></Field>\n                    <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"password\" class=\"form-label\">密碼</label>\n                    <Field id=\"password\" name=\"password\" type=\"password\"\n                    class=\"form-control\" :class=\"{ 'is-invalid': errors['password'] }\"\n                    placeholder=\"請輸入密碼\" rules=\"required\" v-model=\"user.password\"></Field>\n                    <error-message name=\"password\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"d-flex justify-content-end\">\n                    <button type=\"submit\" class=\"btn btn-secondary\">登入</button>\n                </div>\n            </Form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            user: {\n                username: '',\n                password: '',\n            },\n            // loading 效果\n        };\n    },\n    methods: {\n        goTopAdmin() {\n            // 登入驗證\n            const api = `${process.env.VUE_APP_URL}/admin/signin`;\n            this.$http.post(api, this.user)\n            .then((res) => {\n                if (res.data.success) {\n                    const { token } = res.data;\n                    const { expired } = res.data;\n                    document.cookie = `MyToken=${token}; expires=${new Date(expired)}`;\n                    alert('登入成功～歡迎使用！');\n                    // 跳轉要面\n                    this.$router.push('/admin/products');\n                } else {\n                    alert('登入失敗！請確認帳號密碼');\n                    this.user.username = '';\n                    this.user.password = '';\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n        },\n    },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=54dc90b4\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}